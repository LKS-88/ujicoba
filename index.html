<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APLIKASI BARJAS - SISTEM BANTUAN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        :root {
            --primary-color: #0d47a1;
            --secondary-color: #00695c;
            --accent-color: #ff8f00;
            --light-blue: #e3f2fd;
            --dark-blue: #082e5c;
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--dark-blue));
            --gradient-secondary: linear-gradient(135deg, var(--secondary-color), #004d40);
            --gradient-accent: linear-gradient(135deg, var(--accent-color), #e65100);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 28px rgba(0,0,0,0.15);
            --login-gradient: linear-gradient(135deg, #0d47a1, #00695c, #ff8f00);
        }
        
        body {
            background: linear-gradient(135deg, #f5f9ff 0%, #e8f5e9 100%);
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            min-height: 100vh;
            padding: 10px 0;
            overflow-x: hidden;
        }
        
        .app-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            box-shadow: var(--shadow-lg);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            z-index: 10;
        }
        
        .app-header {
            background: var(--gradient-primary);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .app-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            pointer-events: none;
        }
        
        .app-logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .app-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin: 0;
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }
        
        .app-subtitle {
            font-size: 1rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            font-weight: 300;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .nav-pills .nav-link {
            border-radius: 8px;
            margin-bottom: 8px;
            padding: 12px 15px;
            font-weight: 500;
            color: #444;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .nav-pills .nav-link:hover {
            background-color: #f0f7ff;
            transform: translateX(3px);
        }
        
        .nav-pills .nav-link.active {
            background: var(--gradient-primary);
            font-weight: 600;
            box-shadow: var(--shadow-md);
            transform: translateX(3px);
            color: white;
        }
        
        .section-title {
            border-left: 4px solid var(--primary-color);
            padding-left: 12px;
            margin: 20px 0;
            font-weight: 700;
            color: var(--dark-blue);
            font-size: 1.4rem;
            position: relative;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 12px;
            width: 40px;
            height: 2px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-success {
            background: var(--gradient-secondary);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-warning {
            background: var(--gradient-accent);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .form-label {
            font-weight: 600;
            color: #444;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .form-label i {
            margin-right: 6px;
            color: var(--primary-color);
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 12px 15px;
            border: 1px solid #ddd;
            transition: all 0.3s;
            box-shadow: var(--shadow-sm);
            font-size: 0.9rem;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.2);
            transform: translateY(-2px);
        }
        
        .copyright {
            text-align: center;
            padding: 20px;
            background-color: var(--light-blue);
            color: var(--dark-blue);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .data-table {
            font-size: 0.85rem;
            border-collapse: separate;
            border-spacing: 0;
            box-shadow: var(--shadow-sm);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .data-table th {
            background: var(--gradient-primary);
            color: white;
            font-weight: 600;
            padding: 12px 10px;
            text-align: center;
            position: relative;
            font-size: 0.85rem;
        }
        
        .data-table th::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: rgba(255,255,255,0.3);
        }
        
        .data-table td {
            padding: 10px 8px;
            vertical-align: middle;
            border-bottom: 1px solid #eee;
            font-size: 0.85rem;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f9fbff;
        }
        
        .data-table tr:hover {
            background-color: #edf5ff;
        }
        
        .feature-icon {
            font-size: 1.1rem;
            margin-right: 8px;
            width: 24px;
            text-align: center;
        }
        
        .card {
            border-radius: 10px;
            border: none;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
            padding: 15px 20px;
            background: var(--gradient-primary);
            color: white;
            font-size: 0.95rem;
        }
        
        .stats-box {
            text-align: center;
            padding: 20px 15px;
            border-radius: 10px;
            background: white;
            box-shadow: var(--shadow-md);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .stats-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        .stats-box:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        
        .stats-number {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
            margin: 10px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .stats-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }
        
        .notification-toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1050;
            min-width: 280px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            max-width: calc(100vw - 40px);
        }
        
        .input-error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
        }
        
        .error-message {
            color: #dc3545;
            font-size: 0.8rem;
            margin-top: 5px;
            display: none;
            font-weight: 500;
        }
        
        .watermark {
            position: absolute;
            bottom: 10px;
            right: 15px;
            opacity: 0.8;
            font-size: 0.8rem;
            color: white;
            font-weight: 300;
        }
        
        .control-panel {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            box-shadow: var(--shadow-sm);
        }
        
        .control-title {
            font-size: 1rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-blue);
        }
        
        .floating-action-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .floating-action-btn:hover {
            transform: scale(1.1) rotate(90deg);
        }
        
        .filter-section {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }
        
        .badge-custom {
            background: var(--gradient-primary);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1050;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            box-shadow: var(--shadow-lg);
        }
        
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1040;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--dark-blue);
        }
        
        /* Responsive styles */
        @media (max-width: 991.98px) {
            .col-md-3.col-lg-2 {
                position: fixed;
                left: -300px;
                top: 0;
                bottom: 0;
                z-index: 1050;
                width: 280px;
                transition: left 0.3s ease;
                overflow-y: auto;
                padding-top: 60px;
            }
            
            .col-md-3.col-lg-2.mobile-show {
                left: 0;
            }
            
            .col-md-9.col-lg-10 {
                width: 100%;
                flex: 0 0 100%;
                max-width: 100%;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .sidebar-overlay.mobile-show {
                display: block;
            }
        }
        
        /* Print Styles - IMPROVED FOR LANDSCAPE */
        @media print {
            @page {
                size: landscape;
                margin: 0.5cm;
            }
            
            body * {
                visibility: hidden;
            }
            
            .app-container, .app-container * {
                visibility: visible;
            }
            
            .app-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
            
            .nav-pills, .mobile-menu-btn, .sidebar-overlay, .floating-action-btn,
            .btn-group, .filter-section, .toast {
                display: none !important;
            }
            
            .col-md-3.col-lg-2.p-4.bg-light {
                display: none !important;
            }
            
            .col-md-9.col-lg-10.p-5 {
                width: 100%;
                flex: 0 0 100%;
                max-width: 100%;
                padding: 0 !important;
            }
            
            .copyright {
                display: none;
            }
            
            .data-table {
                font-size: 10px;
                width: 100% !important;
            }
            
            .data-table th, .data-table td {
                padding: 4px 2px;
            }
            
            /* Sembunyikan kolom aksi dan link Google Drive saat mencetak */
            .data-table th:last-child,
            .data-table td:last-child {
                display: none !important;
            }
            
            /* Judul untuk laporan cetak */
            .print-header {
                display: block !important;
                text-align: center;
                margin-bottom: 15px;
            }
            
            .print-title {
                font-size: 18px;
                font-weight: bold;
                margin-bottom: 5px;
            }
            
            .print-subtitle {
                font-size: 14px;
                margin-bottom: 10px;
            }
            
            .print-date {
                font-size: 12px;
                text-align: right;
                margin-bottom: 10px;
            }
        }

        /* WhatsApp link style */
        .whatsapp-link {
            color: #25D366;
            text-decoration: none;
        }
        
        .whatsapp-link:hover {
            text-decoration: underline;
        }
        
        /* View Link Button */
        .btn-view {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .btn-view:hover {
            background: linear-gradient(135deg, #138496, #117a8b);
            color: white;
        }
        
        /* Undo Button */
        .btn-undo {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            color: white;
            border: none;
        }
        
        .btn-undo:hover {
            background: linear-gradient(135deg, #5a6268, #4e555b);
            color: white;
        }
        
        /* WhatsApp number link in table */
        .whatsapp-number {
            color: #25D366;
            cursor: pointer;
            text-decoration: underline;
        }
        
        /* Welcome Modal Styles */
        .welcome-modal .modal-content {
            border-radius: 15px;
            overflow: hidden;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .welcome-header {
            background: var(--gradient-primary);
            color: white;
            text-align: center;
            padding: 25px;
        }
        
        .welcome-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .welcome-body {
            padding: 25px;
            text-align: center;
        }
        
        .welcome-footer {
            background: #f8f9fa;
            padding: 15px;
            text-align: center;
            border-top: 1px solid #eee;
        }
        
        .countdown-timer {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 10px;
        }
        
        /* Button untuk cetak per data */
        .btn-print-individual {
            background: linear-gradient(135deg, #6f42c1, #5a2d95);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .btn-print-individual:hover {
            background: linear-gradient(135deg, #5a2d95, #4a2479);
            color: white;
        }
        
        /* Developer Info Styles */
        .developer-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow-sm);
        }
        
        .developer-logo {
            max-width: 120px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        
        .developer-contact a {
            color: var(--primary-color);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .developer-contact a:hover {
            color: var(--dark-blue);
            text-decoration: underline;
        }
        
        /* Welcome Splash Screen */
        .welcome-splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .welcome-splash-content {
            text-align: center;
            max-width: 600px;
            padding: 30px;
        }
        
        .welcome-splash-logo {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .welcome-splash-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 15px;
        }
        
        .welcome-splash-message {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        
        .welcome-splash-countdown {
            font-size: 1rem;
            margin-top: 20px;
        }
        
        .welcome-splash-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .welcome-splash-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }
        
        /* Loading spinner */
        .spinner-border-sm {
            width: 1rem;
            height: 1rem;
        }

        /* Login Modal Styles */
        .login-modal .modal-content {
            border-radius: 15px;
            overflow: hidden;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .login-header {
            background: var(--login-gradient);
            color: white;
            text-align: center;
            padding: 25px 20px;
            position: relative;
        }

        .login-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: white;
        }

        .login-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
        }

        .login-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin: 5px 0 0;
        }

        .login-body {
            padding: 25px;
        }

        .login-form-group {
            margin-bottom: 20px;
        }

        .login-form-label {
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .login-form-label i {
            margin-right: 10px;
            color: var(--dark-blue);
        }

        .login-form-control {
            border-radius: 8px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            transition: all 0.3s;
        }

        .login-form-control:focus {
            border-color: var(--dark-blue);
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.2);
        }

        .login-input-group-text {
            background: var(--light-blue);
            border: 2px solid #ddd;
            border-left: none;
        }

        .btn-login {
            background: var(--gradient-secondary);
            color: white;
            border: none;
            padding: 12px;
            font-weight: 600;
            border-radius: 8px;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 105, 92, 0.4);
        }

        .btn-login:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .login-security-notice {
            text-align: center;
            margin-top: 20px;
            font-size: 0.85rem;
            color: #666;
        }

        .login-attempts-count {
            text-align: center;
            font-size: 0.9rem;
            color: #ff8f00;
            font-weight: 500;
            margin-top: 5px;
        }

        .login-blocked-message {
            text-align: center;
            background: rgba(220, 53, 69, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            color: #dc3545;
            font-weight: 500;
        }

        .login-countdown {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-blue);
        }

        .login-developer-info {
            background: var(--light-blue);
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
        }

        .login-developer-logo {
            max-width: 180px;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .login-developer-contact a {
            color: var(--dark-blue);
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            margin: 5px 0;
        }

        .login-developer-contact a:hover {
            color: var(--primary-color);
            text-decoration: underline;
            transform: translateY(-2px);
        }

        .login-copyright {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Animations */
        @keyframes login-shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        .login-shake {
            animation: login-shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }

        /* Login particle background */
        #login-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1040; /* Higher than modal backdrop */
            display: none;
        }

        /* Link Google Drive dalam tabel */
        .drive-link {
            color: #0d47a1;
            text-decoration: none;
            cursor: pointer;
        }

        .drive-link:hover {
            text-decoration: underline;
        }

        /* Modal untuk menambah link */
        .link-modal .modal-dialog {
            max-width: 600px;
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div class="modal fade login-modal" id="loginModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="login-header">
                    <div class="login-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h2 class="login-title">AUTHENTICATION REQUIRED</h2>
                    <p class="login-subtitle">Masukkan Kode Keamanan untuk Mengakses Aplikasi</p>
                </div>
                <div class="login-body">
                    <form id="loginForm">
                        <div class="mb-3 login-form-group">
                            <label class="form-label login-form-label">
                                <i class="fas fa-key"></i> Kode Keamanan
                            </label>
                            <div class="input-group">
                                <input type="password" class="form-control login-form-control" id="securityCode" placeholder="Masukkan kode akses aplikasi">
                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-danger login-attempts-count" id="attemptsCount"></div>
                        </div>
                        <button type="submit" class="btn btn-login" id="loginButton">
                            <span class="login-button-text">Masuk ke Aplikasi</span>
                            <span class="spinner-border spinner-border-sm d-none" id="loginSpinner"></span>
                        </button>
                    </form>
                    
                    <div class="login-blocked-message d-none" id="blockedMessage">
                        <i class="fas fa-ban me-2"></i>
                        <span id="blockedText">Terlalu banyak percobaan gagal. Silakan coba lagi dalam </span>
                        <span class="login-countdown" id="countdown">30</span> detik.
                    </div>
                    
                    <div class="login-security-notice">
                        <i class="fas fa-info-circle me-2"></i>
                        Hubungi Administrator untuk mendapatkan kode akses
                    </div>
                    
                    <div class="login-developer-info">
                        <h5 class="mb-3">Developer Information</h5>
                        <div class="login-developer-contact">
                            <p><i class="fab fa-whatsapp me-2"></i> <a href="https://wa.me/6285647709114" target="_blank">+62 856-4770-9114</a></p>
                            <p><i class="fas fa-envelope me-2"></i> <a href="mailto:admin@anekamarket.my.id">admin@anekamarket.my.id</a></p>
                        </div>
                    </div>
                    
                    <div class="login-copyright">
                        &copy; 2025 Lentera karya Situbondo
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login particle background -->
    <div id="login-particles"></div>
    
    <!-- Welcome Splash Screen -->
    <div class="welcome-splash" id="welcomeSplash">
        <button class="welcome-splash-close" id="closeSplash">
            <i class="fas fa-times"></i>
        </button>
        <div class="welcome-splash-content">
            <div class="welcome-splash-logo">
                <i class="fas fa-hands-helping"></i>
            </div>
            <h1 class="welcome-splash-title">SISTEM BANTUAN BARJAS</h1>
            <p class="welcome-splash-message">
                Aplikasi Sistem Bantuan BARJAS merupakan platform terpadu yang dirancang untuk mentransformasi pendataan, penyaluran, 
                dan monitoring program bantuan pemerintah. Aplikasi ini kami ciptakan untuk mendorong efisiensi, akurasi, 
                dan transparansi dalam pengelolaan bantuan, guna mempercepat penyerapan dan meningkatkan akuntabilitas.
            </p>
            <div class="welcome-splash-countdown" id="splashCountdown">
                Membuka aplikasi dalam <span id="countdownTimer">5</span> detik...
            </div>
        </div>
    </div>
    
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <div class="app-container animate-fadeIn">
        <div class="app-header">
            <div class="app-logo">
                <i class="fas fa-hands-helping"></i>
            </div>
            <h1 class="app-title">BARJAS</h1>
            <p class="app-subtitle">Sistem Bantuan Terpadu</p>
            <p class="app-subtitle" id="institutionName">Nama Instansi/Lembaga</p>
            <div class="watermark">v2.1.0</div>
        </div>
        
        <div class="row g-0">
            <!-- Sidebar Navigation -->
            <div class="col-md-3 col-lg-2 p-4 bg-light" id="sidebar">
                <ul class="nav nav-pills flex-column mb-auto">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-bs-target="dashboard">
                            <span class="feature-icon"><i class="fas fa-home"></i></span>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-bs-target="inputData">
                            <span class="feature-icon"><i class="fas fa-pen-to-square"></i></span>
                            Input Data Bantuan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-bs-target="dataTable">
                            <span class="feature-icon"><i class="fas fa-table"></i></span>
                            Tabel Data
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-bs-target="settings">
                            <span class="feature-icon"><i class="fas fa-cog"></i></span>
                            Pengaturan
                        </a>
                    </li>
                    <li class="nav-item mt-4">
                        <a href="#" class="nav-link text-danger" id="logoutBtn">
                            <span class="feature-icon"><i class="fas fa-sign-out-alt"></i></span>
                            Keluar
                        </a>
                    </li>
                </ul>
                
                <div class="developer-info mt-5">
                    <h6 class="text-center mb-3">Developer Information</h6>
                    <div class="developer-contact text-center">
                        <p><i class="fab fa-whatsapp me-2"></i> <a href="https://wa.me/6285647709114" target="_blank">+62 856-4770-9114</a></p>
                        <p><i class="fas fa-envelope me-2"></i> <a href="mailto:admin@anekamarket.my.id">admin@anekamarket.my.id</a></p>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 p-5" id="mainContent">
                <!-- Dashboard Section -->
                <div class="content-section" id="dashboard">
                    <h3 class="section-title">Dashboard</h3>
                    
                    <div class="row">
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-users fa-2x text-primary"></i>
                                </div>
                                <div class="stats-number" id="totalPenerima">0</div>
                                <div class="stats-label">Total Penerima Bantuan</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-hand-holding-usd fa-2x text-success"></i>
                                </div>
                                <div class="stats-number" id="totalBantuan">0</div>
                                <div class="stats-label">Total Nilai Bantuan</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-check-circle fa-2x text-info"></i>
                                </div>
                                <div class="stats-number" id="totalTersalurkan">0</div>
                                <div class="stats-label">Bantuan Tersalurkan</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-spinner fa-2x text-warning"></i>
                                </div>
                                <div class="stats-number" id="totalProses">0</div>
                                <div class="stats-label">Dalam Proses</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-chart-pie me-2"></i> Distribusi Bantuan per Kategori
                                </div>
                                <div class="card-body">
                                    <canvas id="distributionChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-chart-bar me-2"></i> Status Penyaluran Bantuan
                                </div>
                                <div class="card-body">
                                    <canvas id="statusChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-history me-2"></i> Aktivitas Terbaru
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Tanggal</th>
                                                    <th>Nama Penerima</th>
                                                    <th>Jenis Bantuan</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="recentActivity">
                                                <tr>
                                                    <td colspan="4" class="text-center">Memuat data...</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Input Data Section -->
                <div class="content-section d-none" id="inputData">
                    <h3 class="section-title">Input Data Bantuan</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-pen-to-square me-2"></i> Formulir Input Data
                        </div>
                        <div class="card-body">
                            <form id="dataForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-user"></i> Nama Penerima
                                        </label>
                                        <input type="text" class="form-control" id="namaPenerima" required>
                                        <div class="error-message" id="namaPenerimaError">Nama penerima harus diisi</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-id-card"></i> NIK
                                        </label>
                                        <input type="text" class="form-control" id="nik" required>
                                        <div class="error-message" id="nikError">NIK harus diisi (16 digit)</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-phone"></i> Nomor Telepon/WhatsApp
                                        </label>
                                        <input type="text" class="form-control" id="noTelepon" required>
                                        <div class="error-message" id="noTeleponError">Nomor telepon harus diisi</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-map-marker-alt"></i> Alamat Lengkap
                                        </label>
                                        <textarea class="form-control" id="alamat" rows="2" required></textarea>
                                        <div class="error-message" id="alamatError">Alamat harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-gift"></i> Jenis Bantuan
                                        </label>
                                        <select class="form-select" id="jenisBantuan" required>
                                            <option value="">Pilih Jenis Bantuan</option>
                                            <option value="Bantuan Tunai">Bantuan Tunai</option>
                                            <option value="Bantuan Sembako">Bantuan Sembako</option>
                                            <option value="Bantuan Pendidikan">Bantuan Pendidikan</option>
                                            <option value="Bantuan Kesehatan">Bantuan Kesehatan</option>
                                            <option value="Bantuan UMKM">Bantuan UMKM</option>
                                            <option value="Bantuan Lainnya">Bantuan Lainnya</option>
                                        </select>
                                        <div class="error-message" id="jenisBantuanError">Jenis bantuan harus dipilih</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-money-bill-wave"></i> Nilai Bantuan (Rp)
                                        </label>
                                        <input type="number" class="form-control" id="nilaiBantuan" required>
                                        <div class="error-message" id="nilaiBantuanError">Nilai bantuan harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-calendar-alt"></i> Tanggal Penyaluran
                                        </label>
                                        <input type="date" class="form-control" id="tanggalPenyaluran" required>
                                        <div class="error-message" id="tanggalPenyaluranError">Tanggal penyaluran harus diisi</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-tasks"></i> Status Penyaluran
                                        </label>
                                        <select class="form-select" id="statusPenyaluran" required>
                                            <option value="Dalam Proses">Dalam Proses</option>
                                            <option value="Tersalurkan">Tersalurkan</option>
                                            <option value="Ditolak">Ditolak</option>
                                        </select>
                                        <div class="error-message" id="statusPenyaluranError">Status penyaluran harus dipilih</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label">
                                            <i class="fas fa-link"></i> Link Google Drive (Dokumen Pendukung)
                                        </label>
                                        <input type="url" class="form-control" id="linkDrive" placeholder="https://drive.google.com/...">
                                        <div class="error-message" id="linkDriveError">Format URL tidak valid</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label">
                                            <i class="fas fa-sticky-note"></i> Keterangan
                                        </label>
                                        <textarea class="form-control" id="keterangan" rows="3"></textarea>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between mt-4">
                                    <button type="reset" class="btn btn-secondary">
                                        <i class="fas fa-undo me-2"></i> Reset Form
                                    </button>
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save me-2"></i> Simpan Data
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Data Table Section -->
                <div class="content-section d-none" id="dataTable">
                    <h3 class="section-title">Tabel Data Bantuan</h3>
                    
                    <div class="filter-section">
                        <div class="row">
                            <div class="col-md-3">
                                <label class="form-label">
                                    <i class="fas fa-filter"></i> Filter Berdasarkan
                                </label>
                                <select class="form-select" id="filterCategory">
                                    <option value="all">Semua Data</option>
                                    <option value="jenisBantuan">Jenis Bantuan</option>
                                    <option value="statusPenyaluran">Status Penyaluran</option>
                                    <option value="tanggal">Tanggal</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">
                                    <i class="fas fa-search"></i> Pencarian
                                </label>
                                <input type="text" class="form-control" id="searchInput" placeholder="Cari data...">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">
                                    <i class="fas fa-calendar"></i> Dari Tanggal
                                </label>
                                <input type="date" class="form-control" id="startDate">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">
                                    <i class="fas fa-calendar"></i> Sampai Tanggal
                                </label>
                                <input type="date" class="form-control" id="endDate">
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12 d-flex justify-content-end">
                                <button class="btn btn-primary me-2" id="applyFilter">
                                    <i class="fas fa-check me-2"></i> Terapkan Filter
                                </button>
                                <button class="btn btn-secondary" id="resetFilter">
                                    <i class="fas fa-sync-alt me-2"></i> Reset Filter
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h5 class="control-title">Ekspor Data</h5>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-success" id="exportExcel">
                                <i class="fas fa-file-excel me-2"></i> Excel
                            </button>
                            <button type="button" class="btn btn-danger" id="exportPDF">
                                <i class="fas fa-file-pdf me-2"></i> PDF
                            </button>
                            <button type="button" class="btn btn-info" id="printTable">
                                <i class="fas fa-print me-2"></i> Cetak
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-responsive mt-4">
                        <table class="table table-striped table-bordered data-table" id="bantuanTable">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Nama Penerima</th>
                                    <th>NIK</th>
                                    <th>No. Telepon</th>
                                    <th>Alamat</th>
                                    <th>Jenis Bantuan</th>
                                    <th>Nilai Bantuan</th>
                                    <th>Tanggal</th>
                                    <th>Status</th>
                                    <th>Link Dokumen</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data akan diisi oleh JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <div class="data-count">
                            Menampilkan <span id="currentCount">0</span> dari <span id="totalCount">0</span> data
                        </div>
                        <nav>
                            <ul class="pagination" id="pagination">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item disabled">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
                
                <!-- Settings Section -->
                <div class="content-section d-none" id="settings">
                    <h3 class="section-title">Pengaturan Aplikasi</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-building me-2"></i> Pengaturan Instansi/Lembaga
                        </div>
                        <div class="card-body">
                            <form id="institutionForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-signature"></i> Nama Instansi/Lembaga
                                        </label>
                                        <input type="text" class="form-control" id="institutionNameInput" placeholder="Masukkan nama instansi/lembaga">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-user-tie"></i> Nama Kepala Instansi
                                        </label>
                                        <input type="text" class="form-control" id="institutionHead" placeholder="Masukkan nama kepala instansi">
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-image"></i> Logo Instansi
                                        </label>
                                        <input type="file" class="form-control" id="institutionLogo" accept="image/*">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-palette"></i> Warna Tema
                                        </label>
                                        <select class="form-select" id="themeColor">
                                            <option value="default">Default (Biru)</option>
                                            <option value="green">Hijau</option>
                                            <option value="red">Merah</option>
                                            <option value="purple">Ungu</option>
                                            <option value="orange">Oranye</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label">
                                            <i class="fas fa-info-circle"></i> Informasi Instansi
                                        </label>
                                        <textarea class="form-control" id="institutionInfo" rows="3" placeholder="Informasi tentang instansi/lembaga"></textarea>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save me-2"></i> Simpan Pengaturan
                                </button>
                            </form>
                        </div>
                    </div>
                    
                    <div class="card mt-4">
                        <div class="card-header">
                            <i class="fas fa-database me-2"></i> Manajemen Data
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-success" id="backupData">
                                            <i class="fas fa-download me-2"></i> Backup Data
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-warning" id="restoreData">
                                            <i class="fas fa-upload me-2"></i> Restore Data
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-12">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-danger" id="resetData">
                                            <i class="fas fa-trash me-2"></i> Reset Semua Data
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-4">
                        <div class="card-header">
                            <i class="fas fa-shield-alt me-2"></i> Keamanan
                        </div>
                        <div class="card-body">
                            <form id="securityForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-key"></i> Ganti Kode Keamanan
                                        </label>
                                        <input type="password" class="form-control" id="newSecurityCode" placeholder="Masukkan kode keamanan baru">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">
                                            <i class="fas fa-key"></i> Konfirmasi Kode Keamanan
                                        </label>
                                        <input type="password" class="form-control" id="confirmSecurityCode" placeholder="Konfirmasi kode keamanan">
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save me-2"></i> Simpan Kode Keamanan
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            &copy; 2025 Aplikasi BARJAS - Sistem Bantuan Terpadu. Hak Cipta Dilindungi.
        </div>
    </div>
    
    <!-- Floating Action Button -->
    <div class="floating-action-btn" id="fab">
        <i class="fas fa-plus"></i>
    </div>
    
    <!-- Notification Toast -->
    <div class="toast notification-toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
        <div class="toast-header">
            <strong class="me-auto" id="toastTitle">Notifikasi</strong>
            <small id="toastTime">Baru saja</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" id="toastMessage">
            Pesan notifikasi akan muncul di sini
        </div>
    </div>
    
    <!-- Modal untuk konfirmasi -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalTitle">Konfirmasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="confirmationModalBody">
                    Apakah Anda yakin ingin melanjutkan?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="confirmationModalConfirm">Ya, Lanjutkan</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal untuk menampilkan link Google Drive -->
    <div class="modal fade link-modal" id="driveLinkModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Dokumen Pendukung</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Link Google Drive</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="modalDriveLink" readonly>
                            <button class="btn btn-outline-primary" type="button" id="copyDriveLink">
                                <i class="fas fa-copy"></i> Salin
                            </button>
                        </div>
                    </div>
                    <div class="text-center">
                        <a href="#" class="btn btn-primary" id="openDriveLink" target="_blank">
                            <i class="fab fa-google-drive me-2"></i> Buka di Google Drive
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.id.min.js"></script>
    
    <script>
        // Inisialisasi variabel global
        let bantuanData = [];
        let currentPage = 1;
        const itemsPerPage = 10;
        let loginAttempts = 0;
        let isBlocked = false;
        let blockTime = 0;
        let securityCode = "123456"; // Kode default, bisa diubah melalui pengaturan
        
        // DOM Ready
        document.addEventListener('DOMContentLoaded', function() {
            // Inisialisasi aplikasi
            initializeApp();
            
            // Event listeners
            setupEventListeners();
            
            // Tampilkan splash screen
            showSplashScreen();
        });
        
        // Fungsi inisialisasi aplikasi
        function initializeApp() {
            // Cek apakah sudah login
            const isLoggedIn = localStorage.getItem('barjasLoggedIn') === 'true';
            
            if (!isLoggedIn) {
                // Tampilkan modal login
                const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
                loginModal.show();
            } else {
                // Load data dari localStorage
                loadData();
                
                // Update dashboard
                updateDashboard();
                
                // Render tabel data
                renderTable();
            }
            
            // Setup chart
            setupCharts();
            
            // Load pengaturan
            loadSettings();
        }
        
        // Fungsi untuk menampilkan splash screen
        function showSplashScreen() {
            const splashScreen = document.getElementById('welcomeSplash');
            const countdownTimer = document.getElementById('countdownTimer');
            let countdown = 5;
            
            splashScreen.style.display = 'flex';
            
            const countdownInterval = setInterval(() => {
                countdown--;
                countdownTimer.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    splashScreen.style.opacity = '0';
                    setTimeout(() => {
                        splashScreen.style.display = 'none';
                    }, 500);
                }
            }, 1000);
            
            // Close splash screen manually
            document.getElementById('closeSplash').addEventListener('click', function() {
                clearInterval(countdownInterval);
                splashScreen.style.opacity = '0';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                }, 500);
            });
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('data-bs-target');
                    
                    // Jika logout
                    if (this.id === 'logoutBtn') {
                        logout();
                        return;
                    }
                    
                    // Aktifkan nav link
                    document.querySelectorAll('.nav-link').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Tampilkan section yang sesuai
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.add('d-none');
                    });
                    document.getElementById(target).classList.remove('d-none');
                });
            });
            
            // Mobile menu
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                document.getElementById('sidebar').classList.toggle('mobile-show');
                document.getElementById('sidebarOverlay').classList.toggle('mobile-show');
            });
            
            document.getElementById('sidebarOverlay').addEventListener('click', function() {
                document.getElementById('sidebar').classList.remove('mobile-show');
                this.classList.remove('mobile-show');
            });
            
            // Form input data
            document.getElementById('dataForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveData();
            });
            
            // Form pengaturan instansi
            document.getElementById('institutionForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveInstitutionSettings();
            });
            
            // Form keamanan
            document.getElementById('securityForm').addEventListener('submit', function(e) {
                e.preventDefault();
                changeSecurityCode();
            });
            
            // Filter data
            document.getElementById('applyFilter').addEventListener('click', function() {
                applyFilters();
            });
            
            document.getElementById('resetFilter').addEventListener('click', function() {
                resetFilters();
            });
            
            // Pencarian
            document.getElementById('searchInput').addEventListener('keyup', function() {
                applyFilters();
            });
            
            // Ekspor data
            document.getElementById('exportExcel').addEventListener('click', function() {
                exportToExcel();
            });
            
            document.getElementById('exportPDF').addEventListener('click', function() {
                exportToPDF();
            });
            
            document.getElementById('printTable').addEventListener('click', function() {
                printTable();
            });
            
            // Manajemen data
            document.getElementById('backupData').addEventListener('click', function() {
                backupData();
            });
            
            document.getElementById('restoreData').addEventListener('click', function() {
                restoreData();
            });
            
            document.getElementById('resetData').addEventListener('click', function() {
                showConfirmation(
                    'Reset Semua Data',
                    'Apakah Anda yakin ingin menghapus semua data? Tindakan ini tidak dapat dibatalkan.',
                    function() {
                        resetAllData();
                    }
                );
            });
            
            // Floating action button
            document.getElementById('fab').addEventListener('click', function() {
                // Tampilkan form input data
                document.querySelectorAll('.nav-link').forEach(navLink => {
                    navLink.classList.remove('active');
                });
                document.querySelector('[data-bs-target="inputData"]').classList.add('active');
                
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.add('d-none');
                });
                document.getElementById('inputData').classList.remove('d-none');
                
                // Scroll ke atas
                window.scrollTo(0, 0);
            });
            
            // Login form
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                attemptLogin();
            });
            
            // Toggle password visibility
            document.querySelector('.toggle-password').addEventListener('click', function() {
                const passwordInput = document.getElementById('securityCode');
                const icon = this.querySelector('i');
                
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });
            
            // Copy drive link
            document.getElementById('copyDriveLink').addEventListener('click', function() {
                const linkInput = document.getElementById('modalDriveLink');
                linkInput.select();
                document.execCommand('copy');
                showNotification('Berhasil', 'Link berhasil disalin ke clipboard');
            });
        }
        
        // Fungsi untuk login
        function attemptLogin() {
            if (isBlocked) {
                showNotification('Diblokir', 'Anda telah melebihi batas percobaan login. Silakan coba lagi nanti.');
                return;
            }
            
            const inputCode = document.getElementById('securityCode').value;
            const loginButton = document.getElementById('loginButton');
            const loginSpinner = document.getElementById('loginSpinner');
            const loginButtonText = document.querySelector('.login-button-text');
            
            // Tampilkan spinner
            loginButton.disabled = true;
            loginSpinner.classList.remove('d-none');
            loginButtonText.textContent = 'Memeriksa...';
            
            // Simulasi pengecekan kode (dalam aplikasi nyata, ini akan dilakukan di server)
            setTimeout(() => {
                if (inputCode === securityCode) {
                    // Login berhasil
                    localStorage.setItem('barjasLoggedIn', 'true');
                    loginAttempts = 0;
                    
                    // Sembunyikan modal
                    const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                    loginModal.hide();
                    
                    // Load data
                    loadData();
                    updateDashboard();
                    renderTable();
                    
                    showNotification('Berhasil Login', 'Selamat datang di Aplikasi BARJAS');
                } else {
                    // Login gagal
                    loginAttempts++;
                    
                    if (loginAttempts >= 3) {
                        // Blokir login sementara
                        isBlocked = true;
                        blockTime = 30; // 30 detik
                        
                        document.getElementById('blockedMessage').classList.remove('d-none');
                        document.getElementById('attemptsCount').classList.add('d-none');
                        
                        const countdownInterval = setInterval(() => {
                            blockTime--;
                            document.getElementById('countdown').textContent = blockTime;
                            
                            if (blockTime <= 0) {
                                clearInterval(countdownInterval);
                                isBlocked = false;
                                loginAttempts = 0;
                                document.getElementById('blockedMessage').classList.add('d-none');
                            }
                        }, 1000);
                    } else {
                        document.getElementById('attemptsCount').textContent = `Percobaan login gagal: ${loginAttempts} dari 3`;
                        document.getElementById('attemptsCount').classList.add('text-danger');
                        
                        // Animasi shake
                        document.getElementById('loginForm').classList.add('login-shake');
                        setTimeout(() => {
                            document.getElementById('loginForm').classList.remove('login-shake');
                        }, 600);
                    }
                    
                    showNotification('Login Gagal', 'Kode keamanan tidak valid');
                }
                
                // Reset form dan UI
                loginButton.disabled = false;
                loginSpinner.classList.add('d-none');
                loginButtonText.textContent = 'Masuk ke Aplikasi';
                document.getElementById('securityCode').value = '';
            }, 1500);
        }
        
        // Fungsi untuk logout
        function logout() {
            showConfirmation(
                'Konfirmasi Logout',
                'Apakah Anda yakin ingin keluar dari aplikasi?',
                function() {
                    localStorage.removeItem('barjasLoggedIn');
                    window.location.reload();
                }
            );
        }
        
        // Fungsi untuk memuat data dari localStorage
        function loadData() {
            const savedData = localStorage.getItem('barjasData');
            if (savedData) {
                bantuanData = JSON.parse(savedData);
            } else {
                // Data contoh jika tidak ada data yang tersimpan
                bantuanData = [
                    {
                        id: 1,
                        namaPenerima: "Ahmad Sutisna",
                        nik: "3501234567890001",
                        noTelepon: "081234567890",
                        alamat: "Jl. Merdeka No. 123, Jakarta Selatan",
                        jenisBantuan: "Bantuan Tunai",
                        nilaiBantuan: 1500000,
                        tanggalPenyaluran: "2023-10-15",
                        statusPenyaluran: "Tersalurkan",
                        linkDrive: "https://drive.google.com/drive/folders/abc123",
                        keterangan: "Bantuan untuk kebutuhan sehari-hari"
                    },
                    {
                        id: 2,
                        namaPenerima: "Siti Rahayu",
                        nik: "3501987654321002",
                        noTelepon: "082345678901",
                        alamat: "Jl. Kenanga No. 45, Bandung",
                        jenisBantuan: "Bantuan Sembako",
                        nilaiBantuan: 500000,
                        tanggalPenyaluran: "2023-10-18",
                        statusPenyaluran: "Dalam Proses",
                        linkDrive: "https://drive.google.com/drive/folders/def456",
                        keterangan: "Paket sembako untuk keluarga"
                    },
                    {
                        id: 3,
                        namaPenerima: "Budi Santoso",
                        nik: "3501122334455003",
                        noTelepon: "083456789012",
                        alamat: "Jl. Mawar No. 67, Surabaya",
                        jenisBantuan: "Bantuan Pendidikan",
                        nilaiBantuan: 750000,
                        tanggalPenyaluran: "2023-10-20",
                        statusPenyaluran: "Tersalurkan",
                        linkDrive: "https://drive.google.com/drive/folders/ghi789",
                        keterangan: "Bantuan biaya sekolah anak"
                    }
                ];
                localStorage.setItem('barjasData', JSON.stringify(bantuanData));
            }
        }
        
        // Fungsi untuk menyimpan data
        function saveData() {
            // Validasi form
            if (!validateForm()) {
                return;
            }
            
            // Ambil nilai dari form
            const newData = {
                id: bantuanData.length > 0 ? Math.max(...bantuanData.map(item => item.id)) + 1 : 1,
                namaPenerima: document.getElementById('namaPenerima').value,
                nik: document.getElementById('nik').value,
                noTelepon: document.getElementById('noTelepon').value,
                alamat: document.getElementById('alamat').value,
                jenisBantuan: document.getElementById('jenisBantuan').value,
                nilaiBantuan: parseInt(document.getElementById('nilaiBantuan').value),
                tanggalPenyaluran: document.getElementById('tanggalPenyaluran').value,
                statusPenyaluran: document.getElementById('statusPenyaluran').value,
                linkDrive: document.getElementById('linkDrive').value,
                keterangan: document.getElementById('keterangan').value
            };
            
            // Tambahkan ke array data
            bantuanData.push(newData);
            
            // Simpan ke localStorage
            localStorage.setItem('barjasData', JSON.stringify(bantuanData));
            
            // Reset form
            document.getElementById('dataForm').reset();
            
            // Update UI
            updateDashboard();
            renderTable();
            
            // Tampilkan notifikasi
            showNotification('Berhasil', 'Data bantuan berhasil disimpan');
        }
        
        // Fungsi validasi form
        function validateForm() {
            let isValid = true;
            
            // Validasi Nama Penerima
            const namaPenerima = document.getElementById('namaPenerima');
            const namaPenerimaError = document.getElementById('namaPenerimaError');
            if (!namaPenerima.value.trim()) {
                namaPenerima.classList.add('input-error');
                namaPenerimaError.style.display = 'block';
                isValid = false;
            } else {
                namaPenerima.classList.remove('input-error');
                namaPenerimaError.style.display = 'none';
            }
            
            // Validasi NIK
            const nik = document.getElementById('nik');
            const nikError = document.getElementById('nikError');
            if (!nik.value.trim() || nik.value.length !== 16) {
                nik.classList.add('input-error');
                nikError.style.display = 'block';
                isValid = false;
            } else {
                nik.classList.remove('input-error');
                nikError.style.display = 'none';
            }
            
            // Validasi No. Telepon
            const noTelepon = document.getElementById('noTelepon');
            const noTeleponError = document.getElementById('noTeleponError');
            if (!noTelepon.value.trim()) {
                noTelepon.classList.add('input-error');
                noTeleponError.style.display = 'block';
                isValid = false;
            } else {
                noTelepon.classList.remove('input-error');
                noTeleponError.style.display = 'none';
            }
            
            // Validasi Alamat
            const alamat = document.getElementById('alamat');
            const alamatError = document.getElementById('alamatError');
            if (!alamat.value.trim()) {
                alamat.classList.add('input-error');
                alamatError.style.display = 'block';
                isValid = false;
            } else {
                alamat.classList.remove('input-error');
                alamatError.style.display = 'none';
            }
            
            // Validasi Jenis Bantuan
            const jenisBantuan = document.getElementById('jenisBantuan');
            const jenisBantuanError = document.getElementById('jenisBantuanError');
            if (!jenisBantuan.value) {
                jenisBantuan.classList.add('input-error');
                jenisBantuanError.style.display = 'block';
                isValid = false;
            } else {
                jenisBantuan.classList.remove('input-error');
                jenisBantuanError.style.display = 'none';
            }
            
            // Validasi Nilai Bantuan
            const nilaiBantuan = document.getElementById('nilaiBantuan');
            const nilaiBantuanError = document.getElementById('nilaiBantuanError');
            if (!nilaiBantuan.value || parseInt(nilaiBantuan.value) <= 0) {
                nilaiBantuan.classList.add('input-error');
                nilaiBantuanError.style.display = 'block';
                isValid = false;
            } else {
                nilaiBantuan.classList.remove('input-error');
                nilaiBantuanError.style.display = 'none';
            }
            
            // Validasi Tanggal Penyaluran
            const tanggalPenyaluran = document.getElementById('tanggalPenyaluran');
            const tanggalPenyaluranError = document.getElementById('tanggalPenyaluranError');
            if (!tanggalPenyaluran.value) {
                tanggalPenyaluran.classList.add('input-error');
                tanggalPenyaluranError.style.display = 'block';
                isValid = false;
            } else {
                tanggalPenyaluran.classList.remove('input-error');
                tanggalPenyaluranError.style.display = 'none';
            }
            
            // Validasi Status Penyaluran
            const statusPenyaluran = document.getElementById('statusPenyaluran');
            const statusPenyaluranError = document.getElementById('statusPenyaluranError');
            if (!statusPenyaluran.value) {
                statusPenyaluran.classList.add('input-error');
                statusPenyaluranError.style.display = 'block';
                isValid = false;
            } else {
                statusPenyaluran.classList.remove('input-error');
                statusPenyaluranError.style.display = 'none';
            }
            
            // Validasi Link Drive (opsional, tapi jika diisi harus berupa URL valid)
            const linkDrive = document.getElementById('linkDrive');
            const linkDriveError = document.getElementById('linkDriveError');
            if (linkDrive.value && !isValidUrl(linkDrive.value)) {
                linkDrive.classList.add('input-error');
                linkDriveError.style.display = 'block';
                isValid = false;
            } else {
                linkDrive.classList.remove('input-error');
                linkDriveError.style.display = 'none';
            }
            
            return isValid;
        }
        
        // Fungsi untuk memvalidasi URL
        function isValidUrl(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }
        
        // Fungsi untuk mengupdate dashboard
        function updateDashboard() {
            // Hitung statistik
            const totalPenerima = bantuanData.length;
            const totalBantuan = bantuanData.reduce((sum, item) => sum + item.nilaiBantuan, 0);
            const totalTersalurkan = bantuanData.filter(item => item.statusPenyaluran === 'Tersalurkan').length;
            const totalProses = bantuanData.filter(item => item.statusPenyaluran === 'Dalam Proses').length;
            
            // Update elemen statistik
            document.getElementById('totalPenerima').textContent = totalPenerima.toLocaleString('id-ID');
            document.getElementById('totalBantuan').textContent = 'Rp ' + totalBantuan.toLocaleString('id-ID');
            document.getElementById('totalTersalurkan').textContent = totalTersalurkan.toLocaleString('id-ID');
            document.getElementById('totalProses').textContent = totalProses.toLocaleString('id-ID');
            
            // Update aktivitas terbaru
            updateRecentActivity();
            
            // Update chart
            updateCharts();
        }
        
        // Fungsi untuk mengupdate aktivitas terbaru
        function updateRecentActivity() {
            const recentActivity = document.getElementById('recentActivity');
            recentActivity.innerHTML = '';
            
            // Ambil 5 data terbaru
            const recentData = [...bantuanData]
                .sort((a, b) => new Date(b.tanggalPenyaluran) - new Date(a.tanggalPenyaluran))
                .slice(0, 5);
            
            if (recentData.length === 0) {
                recentActivity.innerHTML = '<tr><td colspan="4" class="text-center">Tidak ada data</td></tr>';
                return;
            }
            
            recentData.forEach(item => {
                const row = document.createElement('tr');
                
                // Format tanggal
                const date = new Date(item.tanggalPenyaluran);
                const formattedDate = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                
                // Tentukan badge status
                let statusBadge = '';
                if (item.statusPenyaluran === 'Tersalurkan') {
                    statusBadge = '<span class="badge bg-success">Tersalurkan</span>';
                } else if (item.statusPenyaluran === 'Dalam Proses') {
                    statusBadge = '<span class="badge bg-warning text-dark">Dalam Proses</span>';
                } else {
                    statusBadge = '<span class="badge bg-danger">Ditolak</span>';
                }
                
                row.innerHTML = `
                    <td>${formattedDate}</td>
                    <td>${item.namaPenerima}</td>
                    <td>${item.jenisBantuan}</td>
                    <td>${statusBadge}</td>
                `;
                
                recentActivity.appendChild(row);
            });
        }
        
        // Fungsi untuk setup chart
        function setupCharts() {
            // Distribution Chart (Pie)
            const distributionCtx = document.getElementById('distributionChart').getContext('2d');
            window.distributionChart = new Chart(distributionCtx, {
                type: 'pie',
                data: {
                    labels: [],
                    datasets: [{
                        data: [],
                        backgroundColor: [
                            '#0d47a1',
                            '#00695c',
                            '#ff8f00',
                            '#c62828',
                            '#6a1b9a',
                            '#546e7a'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        title: {
                            display: true,
                            text: 'Distribusi Bantuan per Jenis'
                        }
                    }
                }
            });
            
            // Status Chart (Bar)
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            window.statusChart = new Chart(statusCtx, {
                type: 'bar',
                data: {
                    labels: ['Tersalurkan', 'Dalam Proses', 'Ditolak'],
                    datasets: [{
                        label: 'Jumlah',
                        data: [0, 0, 0],
                        backgroundColor: [
                            '#0d47a1',
                            '#ff8f00',
                            '#c62828'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Status Penyaluran Bantuan'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk mengupdate chart
        function updateCharts() {
            // Hitung distribusi per jenis bantuan
            const jenisCount = {};
            bantuanData.forEach(item => {
                if (jenisCount[item.jenisBantuan]) {
                    jenisCount[item.jenisBantuan]++;
                } else {
                    jenisCount[item.jenisBantuan] = 1;
                }
            });
            
            // Update distribution chart
            window.distributionChart.data.labels = Object.keys(jenisCount);
            window.distributionChart.data.datasets[0].data = Object.values(jenisCount);
            window.distributionChart.update();
            
            // Hitung status penyaluran
            const statusCount = {
                'Tersalurkan': bantuanData.filter(item => item.statusPenyaluran === 'Tersalurkan').length,
                'Dalam Proses': bantuanData.filter(item => item.statusPenyaluran === 'Dalam Proses').length,
                'Ditolak': bantuanData.filter(item => item.statusPenyaluran === 'Ditolak').length
            };
            
            // Update status chart
            window.statusChart.data.datasets[0].data = [
                statusCount['Tersalurkan'],
                statusCount['Dalam Proses'],
                statusCount['Ditolak']
            ];
            window.statusChart.update();
        }
        
        // Fungsi untuk merender tabel data
        function renderTable() {
            const tableBody = document.querySelector('#bantuanTable tbody');
            tableBody.innerHTML = '';
            
            if (bantuanData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="11" class="text-center">Tidak ada data</td></tr>';
                document.getElementById('currentCount').textContent = '0';
                document.getElementById('totalCount').textContent = '0';
                renderPagination();
                return;
            }
            
            // Hitung data yang akan ditampilkan
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, bantuanData.length);
            const currentData = bantuanData.slice(startIndex, endIndex);
            
            // Render data
            currentData.forEach((item, index) => {
                const row = document.createElement('tr');
                
                // Format tanggal
                const date = new Date(item.tanggalPenyaluran);
                const formattedDate = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                
                // Tentukan badge status
                let statusBadge = '';
                if (item.statusPenyaluran === 'Tersalurkan') {
                    statusBadge = '<span class="badge bg-success">Tersalurkan</span>';
                } else if (item.statusPenyaluran === 'Dalam Proses') {
                    statusBadge = '<span class="badge bg-warning text-dark">Dalam Proses</span>';
                } else {
                    statusBadge = '<span class="badge bg-danger">Ditolak</span>';
                }
                
                // Tampilkan link Google Drive jika ada
                let driveLink = '-';
                if (item.linkDrive) {
                    driveLink = `<a href="#" class="drive-link" data-link="${item.linkDrive}">
                        <i class="fab fa-google-drive me-1"></i> Lihat Dokumen
                    </a>`;
                }
                
                row.innerHTML = `
                    <td>${startIndex + index + 1}</td>
                    <td>${item.namaPenerima}</td>
                    <td>${item.nik}</td>
                    <td>${item.noTelepon}</td>
                    <td>${item.alamat}</td>
                    <td>${item.jenisBantuan}</td>
                    <td>Rp ${item.nilaiBantuan.toLocaleString('id-ID')}</td>
                    <td>${formattedDate}</td>
                    <td>${statusBadge}</td>
                    <td>${driveLink}</td>
                    <td>
                        <button class="btn btn-sm btn-primary view-data" data-id="${item.id}">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-warning edit-data" data-id="${item.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-danger delete-data" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Update info jumlah data
            document.getElementById('currentCount').textContent = currentData.length;
            document.getElementById('totalCount').textContent = bantuanData.length;
            
            // Render pagination
            renderPagination();
            
            // Tambahkan event listener untuk aksi
            addTableActionListeners();
        }
        
        // Fungsi untuk menambahkan event listener pada aksi tabel
        function addTableActionListeners() {
            // View data
            document.querySelectorAll('.view-data').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    viewData(id);
                });
            });
            
            // Edit data
            document.querySelectorAll('.edit-data').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    editData(id);
                });
            });
            
            // Delete data
            document.querySelectorAll('.delete-data').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteData(id);
                });
            });
            
            // Link Google Drive
            document.querySelectorAll('.drive-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const driveLink = this.getAttribute('data-link');
                    showDriveLinkModal(driveLink);
                });
            });
        }
        
        // Fungsi untuk menampilkan modal link Google Drive
        function showDriveLinkModal(link) {
            document.getElementById('modalDriveLink').value = link;
            document.getElementById('openDriveLink').href = link;
            
            const modal = new bootstrap.Modal(document.getElementById('driveLinkModal'));
            modal.show();
        }
        
        // Fungsi untuk melihat data
        function viewData(id) {
            const data = bantuanData.find(item => item.id === id);
            if (!data) return;
            
            // Format data untuk ditampilkan
            const viewContent = `
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>Nama Penerima:</strong><br>
                        ${data.namaPenerima}
                    </div>
                    <div class="col-md-6">
                        <strong>NIK:</strong><br>
                        ${data.nik}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>No. Telepon/WhatsApp:</strong><br>
                        ${data.noTelepon}
                    </div>
                    <div class="col-md-6">
                        <strong>Alamat:</strong><br>
                        ${data.alamat}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>Jenis Bantuan:</strong><br>
                        ${data.jenisBantuan}
                    </div>
                    <div class="col-md-6">
                        <strong>Nilai Bantuan:</strong><br>
                        Rp ${data.nilaiBantuan.toLocaleString('id-ID')}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <strong>Tanggal Penyaluran:</strong><br>
                        ${new Date(data.tanggalPenyaluran).toLocaleDateString('id-ID')}
                    </div>
                    <div class="col-md-6">
                        <strong>Status:</strong><br>
                        ${data.statusPenyaluran}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-12">
                        <strong>Link Google Drive:</strong><br>
                        ${data.linkDrive ? `<a href="${data.linkDrive}" target="_blank">${data.linkDrive}</a>` : '-'}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <strong>Keterangan:</strong><br>
                        ${data.keterangan || '-'}
                    </div>
                </div>
            `;
            
            // Tampilkan modal
            showCustomModal('Lihat Data', viewContent, 'Tutup');
        }
        
        // Fungsi untuk mengedit data
        function editData(id) {
            const data = bantuanData.find(item => item.id === id);
            if (!data) return;
            
            // Isi form dengan data yang ada
            document.getElementById('namaPenerima').value = data.namaPenerima;
            document.getElementById('nik').value = data.nik;
            document.getElementById('noTelepon').value = data.noTelepon;
            document.getElementById('alamat').value = data.alamat;
            document.getElementById('jenisBantuan').value = data.jenisBantuan;
            document.getElementById('nilaiBantuan').value = data.nilaiBantuan;
            document.getElementById('tanggalPenyaluran').value = data.tanggalPenyaluran;
            document.getElementById('statusPenyaluran').value = data.statusPenyaluran;
            document.getElementById('linkDrive').value = data.linkDrive || '';
            document.getElementById('keterangan').value = data.keterangan || '';
            
            // Ubah tombol submit untuk edit
            const submitButton = document.querySelector('#dataForm button[type="submit"]');
            submitButton.innerHTML = '<i class="fas fa-save me-2"></i> Update Data';
            submitButton.setAttribute('data-edit-id', id);
            
            // Hapus event listener lama dan tambahkan yang baru untuk edit
            const form = document.getElementById('dataForm');
            const newForm = form.cloneNode(true);
            form.parentNode.replaceChild(newForm, form);
            
            document.getElementById('dataForm').addEventListener('submit', function(e) {
                e.preventDefault();
                updateData(id);
            });
            
            // Scroll ke form
            document.querySelectorAll('.nav-link').forEach(navLink => {
                navLink.classList.remove('active');
            });
            document.querySelector('[data-bs-target="inputData"]').classList.add('active');
            
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('d-none');
            });
            document.getElementById('inputData').classList.remove('d-none');
            
            window.scrollTo(0, 0);
        }
        
        // Fungsi untuk mengupdate data
        function updateData(id) {
            // Validasi form
            if (!validateForm()) {
                return;
            }
            
            // Cari index data
            const index = bantuanData.findIndex(item => item.id === id);
            if (index === -1) return;
            
            // Update data
            bantuanData[index] = {
                id: id,
                namaPenerima: document.getElementById('namaPenerima').value,
                nik: document.getElementById('nik').value,
                noTelepon: document.getElementById('noTelepon').value,
                alamat: document.getElementById('alamat').value,
                jenisBantuan: document.getElementById('jenisBantuan').value,
                nilaiBantuan: parseInt(document.getElementById('nilaiBantuan').value),
                tanggalPenyaluran: document.getElementById('tanggalPenyaluran').value,
                statusPenyaluran: document.getElementById('statusPenyaluran').value,
                linkDrive: document.getElementById('linkDrive').value,
                keterangan: document.getElementById('keterangan').value
            };
            
            // Simpan ke localStorage
            localStorage.setItem('barjasData', JSON.stringify(bantuanData));
            
            // Reset form dan tombol
            document.getElementById('dataForm').reset();
            const submitButton = document.querySelector('#dataForm button[type="submit"]');
            submitButton.innerHTML = '<i class="fas fa-save me-2"></i> Simpan Data';
            submitButton.removeAttribute('data-edit-id');
            
            // Kembalikan event listener ke mode tambah data
            const form = document.getElementById('dataForm');
            const newForm = form.cloneNode(true);
            form.parentNode.replaceChild(newForm, form);
            
            document.getElementById('dataForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveData();
            });
            
            // Update UI
            updateDashboard();
            renderTable();
            
            // Tampilkan notifikasi
            showNotification('Berhasil', 'Data bantuan berhasil diupdate');
        }
        
        // Fungsi untuk menghapus data
        function deleteData(id) {
            showConfirmation(
                'Hapus Data',
                'Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.',
                function() {
                    // Hapus data
                    bantuanData = bantuanData.filter(item => item.id !== id);
                    
                    // Simpan ke localStorage
                    localStorage.setItem('barjasData', JSON.stringify(bantuanData));
                    
                    // Update UI
                    updateDashboard();
                    renderTable();
                    
                    // Tampilkan notifikasi
                    showNotification('Berhasil', 'Data bantuan berhasil dihapus');
                }
            );
        }
        
        // Fungsi untuk merender pagination
        function renderPagination() {
            const totalPages = Math.ceil(bantuanData.length / itemsPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // Previous button
            if (currentPage > 1) {
                paginationHTML += `<li class="page-item">
                    <a class="page-link" href="#" data-page="${currentPage - 1}">Previous</a>
                </li>`;
            } else {
                paginationHTML += `<li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                </li>`;
            }
            
            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    paginationHTML += `<li class="page-item active">
                        <a class="page-link" href="#">${i}</a>
                    </li>`;
                } else {
                    paginationHTML += `<li class="page-item">
                        <a class="page-link" href="#" data-page="${i}">${i}</a>
                    </li>`;
                }
            }
            
            // Next button
            if (currentPage < totalPages) {
                paginationHTML += `<li class="page-item">
                    <a class="page-link" href="#" data-page="${currentPage + 1}">Next</a>
                </li>`;
            } else {
                paginationHTML += `<li class="page-item disabled">
                    <a class="page-link" href="#">Next</a>
                </li>`;
            }
            
            pagination.innerHTML = paginationHTML;
            
            // Tambahkan event listener
            pagination.querySelectorAll('.page-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    if (page) {
                        currentPage = parseInt(page);
                        renderTable();
                    }
                });
            });
        }
        
        // Fungsi untuk menerapkan filter
        function applyFilters() {
            const filterCategory = document.getElementById('filterCategory').value;
            const searchText = document.getElementById('searchInput').value.toLowerCase();
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            
            let filteredData = [...bantuanData];
            
            // Filter berdasarkan pencarian
            if (searchText) {
                filteredData = filteredData.filter(item => 
                    item.namaPenerima.toLowerCase().includes(searchText) ||
                    item.nik.toLowerCase().includes(searchText) ||
                    item.alamat.toLowerCase().includes(searchText) ||
                    item.jenisBantuan.toLowerCase().includes(searchText) ||
                    item.statusPenyaluran.toLowerCase().includes(searchText)
                );
            }
            
            // Filter berdasarkan tanggal
            if (startDate) {
                filteredData = filteredData.filter(item => 
                    new Date(item.tanggalPenyaluran) >= new Date(startDate)
                );
            }
            
            if (endDate) {
                filteredData = filteredData.filter(item => 
                    new Date(item.tanggalPenyaluran) <= new Date(endDate)
                );
            }
            
            // Jika tidak ada filter, kembalikan ke data asli
            if (filterCategory === 'all' && !searchText && !startDate && !endDate) {
                renderTable();
                return;
            }
            
            // Render tabel dengan data yang sudah difilter
            renderFilteredTable(filteredData);
        }
        
        // Fungsi untuk merender tabel dengan data yang sudah difilter
        function renderFilteredTable(data) {
            const tableBody = document.querySelector('#bantuanTable tbody');
            tableBody.innerHTML = '';
            
            if (data.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="11" class="text-center">Tidak ada data yang sesuai dengan filter</td></tr>';
                document.getElementById('currentCount').textContent = '0';
                document.getElementById('totalCount').textContent = '0';
                document.getElementById('pagination').innerHTML = '';
                return;
            }
            
            // Render data
            data.forEach((item, index) => {
                const row = document.createElement('tr');
                
                // Format tanggal
                const date = new Date(item.tanggalPenyaluran);
                const formattedDate = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                
                // Tentukan badge status
                let statusBadge = '';
                if (item.statusPenyaluran === 'Tersalurkan') {
                    statusBadge = '<span class="badge bg-success">Tersalurkan</span>';
                } else if (item.statusPenyaluran === 'Dalam Proses') {
                    statusBadge = '<span class="badge bg-warning text-dark">Dalam Proses</span>';
                } else {
                    statusBadge = '<span class="badge bg-danger">Ditolak</span>';
                }
                
                // Tampilkan link Google Drive jika ada
                let driveLink = '-';
                if (item.linkDrive) {
                    driveLink = `<a href="#" class="drive-link" data-link="${item.linkDrive}">
                        <i class="fab fa-google-drive me-1"></i> Lihat Dokumen
                    </a>`;
                }
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${item.namaPenerima}</td>
                    <td>${item.nik}</td>
                    <td>${item.noTelepon}</td>
                    <td>${item.alamat}</td>
                    <td>${item.jenisBantuan}</td>
                    <td>Rp ${item.nilaiBantuan.toLocaleString('id-ID')}</td>
                    <td>${formattedDate}</td>
                    <td>${statusBadge}</td>
                    <td>${driveLink}</td>
                    <td>
                        <button class="btn btn-sm btn-primary view-data" data-id="${item.id}">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-warning edit-data" data-id="${item.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-danger delete-data" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Update info jumlah data
            document.getElementById('currentCount').textContent = data.length;
            document.getElementById('totalCount').textContent = data.length;
            
            // Sembunyikan pagination saat filtering
            document.getElementById('pagination').innerHTML = '';
            
            // Tambahkan event listener untuk aksi
            addTableActionListeners();
        }
        
        // Fungsi untuk mereset filter
        function resetFilters() {
            document.getElementById('filterCategory').value = 'all';
            document.getElementById('searchInput').value = '';
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            
            currentPage = 1;
            renderTable();
        }
        
        // Fungsi untuk mengekspor data ke Excel
        function exportToExcel() {
            // Buat worksheet dari data
            const worksheet = XLSX.utils.json_to_sheet(bantuanData.map(item => ({
                'Nama Penerima': item.namaPenerima,
                'NIK': item.nik,
                'No. Telepon': item.noTelepon,
                'Alamat': item.alamat,
                'Jenis Bantuan': item.jenisBantuan,
                'Nilai Bantuan': item.nilaiBantuan,
                'Tanggal Penyaluran': item.tanggalPenyaluran,
                'Status Penyaluran': item.statusPenyaluran,
                'Link Dokumen': item.linkDrive || '',
                'Keterangan': item.keterangan || ''
            })));
            
            // Buat workbook dan tambahkan worksheet
            const workbook = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(workbook, worksheet, 'Data Bantuan');
            
            // Generate file Excel
            const institutionName = document.getElementById('institutionName').textContent;
            const fileName = `Data Bantuan - ${institutionName} - ${new Date().toISOString().split('T')[0]}.xlsx`;
            
            XLSX.writeFile(workbook, fileName);
            
            showNotification('Berhasil', 'Data berhasil diekspor ke Excel');
        }
        
        // Fungsi untuk mengekspor data ke PDF
        function exportToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Judul
            const institutionName = document.getElementById('institutionName').textContent;
            doc.setFontSize(16);
            doc.text(`LAPORAN DATA BANTUAN - ${institutionName}`, 105, 15, { align: 'center' });
            doc.setFontSize(10);
            doc.text(`Tanggal Ekspor: ${new Date().toLocaleDateString('id-ID')}`, 105, 22, { align: 'center' });
            
            // Data untuk tabel
            const tableData = bantuanData.map(item => [
                item.namaPenerima,
                item.nik,
                item.noTelepon,
                item.jenisBantuan,
                `Rp ${item.nilaiBantuan.toLocaleString('id-ID')}`,
                new Date(item.tanggalPenyaluran).toLocaleDateString('id-ID'),
                item.statusPenyaluran
            ]);
            
            // Buat tabel
            doc.autoTable({
                head: [['Nama Penerima', 'NIK', 'No. Telepon', 'Jenis Bantuan', 'Nilai', 'Tanggal', 'Status']],
                body: tableData,
                startY: 30,
                theme: 'grid',
                styles: { fontSize: 8 },
                headStyles: { fillColor: [13, 71, 161] }
            });
            
            // Simpan PDF
            const fileName = `Data Bantuan - ${institutionName} - ${new Date().toISOString().split('T')[0]}.pdf`;
            doc.save(fileName);
            
            showNotification('Berhasil', 'Data berhasil diekspor ke PDF');
        }
        
        // Fungsi untuk mencetak tabel
        function printTable() {
            // Buat elemen untuk print
            const printWindow = window.open('', '_blank');
            const institutionName = document.getElementById('institutionName').textContent;
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Cetak Data Bantuan - ${institutionName}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .print-header { text-align: center; margin-bottom: 20px; }
                        .print-title { font-size: 18px; font-weight: bold; }
                        .print-subtitle { font-size: 14px; margin-bottom: 10px; }
                        .print-date { text-align: right; margin-bottom: 10px; font-size: 12px; }
                        table { width: 100%; border-collapse: collapse; font-size: 12px; }
                        th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
                        th { background-color: #f2f2f2; }
                        @media print {
                            @page { size: landscape; margin: 0.5cm; }
                            body { margin: 0; }
                        }
                    </style>
                </head>
                <body>
                    <div class="print-header">
                        <div class="print-title">LAPORAN DATA BANTUAN</div>
                        <div class="print-subtitle">${institutionName}</div>
                    </div>
                    <div class="print-date">Tanggal Cetak: ${new Date().toLocaleDateString('id-ID')}</div>
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Nama Penerima</th>
                                <th>NIK</th>
                                <th>No. Telepon</th>
                                <th>Alamat</th>
                                <th>Jenis Bantuan</th>
                                <th>Nilai Bantuan</th>
                                <th>Tanggal</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
            `);
            
            // Isi data
            bantuanData.forEach((item, index) => {
                printWindow.document.write(`
                    <tr>
                        <td>${index + 1}</td>
                        <td>${item.namaPenerima}</td>
                        <td>${item.nik}</td>
                        <td>${item.noTelepon}</td>
                        <td>${item.alamat}</td>
                        <td>${item.jenisBantuan}</td>
                        <td>Rp ${item.nilaiBantuan.toLocaleString('id-ID')}</td>
                        <td>${new Date(item.tanggalPenyaluran).toLocaleDateString('id-ID')}</td>
                        <td>${item.statusPenyaluran}</td>
                    </tr>
                `);
            });
            
            printWindow.document.write(`
                        </tbody>
                    </table>
                </body>
                </html>
            `);
            
            printWindow.document.close();
            printWindow.focus();
            
            // Tunggu sebentar sebelum mencetak
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 250);
        }
        
        // Fungsi untuk membackup data
        function backupData() {
            const dataStr = JSON.stringify(bantuanData);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const institutionName = document.getElementById('institutionName').textContent;
            const exportFileDefaultName = `Backup Data Bantuan - ${institutionName} - ${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('Berhasil', 'Data berhasil dibackup');
        }
        
        // Fungsi untuk merestore data
        function restoreData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    try {
                        const jsonData = JSON.parse(event.target.result);
                        
                        // Validasi data
                        if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].namaPenerima) {
                            showConfirmation(
                                'Restore Data',
                                'Apakah Anda yakin ingin merestore data? Data saat ini akan diganti dengan data dari file.',
                                function() {
                                    bantuanData = jsonData;
                                    localStorage.setItem('barjasData', JSON.stringify(bantuanData));
                                    
                                    // Update UI
                                    updateDashboard();
                                    renderTable();
                                    
                                    showNotification('Berhasil', 'Data berhasil direstore');
                                }
                            );
                        } else {
                            showNotification('Error', 'File tidak valid. Pastikan file backup dari aplikasi ini.');
                        }
                    } catch (error) {
                        showNotification('Error', 'Gagal memproses file: ' + error.message);
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }
        
        // Fungsi untuk mereset semua data
        function resetAllData() {
            bantuanData = [];
            localStorage.removeItem('barjasData');
            
            // Update UI
            updateDashboard();
            renderTable();
            
            showNotification('Berhasil', 'Semua data berhasil direset');
        }
        
        // Fungsi untuk memuat pengaturan
        function loadSettings() {
            const savedSettings = localStorage.getItem('barjasSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Terapkan pengaturan
                document.getElementById('institutionNameInput').value = settings.institutionName || '';
                document.getElementById('institutionHead').value = settings.institutionHead || '';
                document.getElementById('institutionInfo').value = settings.institutionInfo || '';
                document.getElementById('themeColor').value = settings.themeColor || 'default';
                
                // Update nama instansi di header
                document.getElementById('institutionName').textContent = settings.institutionName || 'Nama Instansi/Lembaga';
            }
            
            // Load kode keamanan
            const savedSecurityCode = localStorage.getItem('barjasSecurityCode');
            if (savedSecurityCode) {
                securityCode = savedSecurityCode;
            }
        }
        
        // Fungsi untuk menyimpan pengaturan instansi
        function saveInstitutionSettings() {
            const settings = {
                institutionName: document.getElementById('institutionNameInput').value,
                institutionHead: document.getElementById('institutionHead').value,
                institutionInfo: document.getElementById('institutionInfo').value,
                themeColor: document.getElementById('themeColor').value
            };
            
            // Simpan ke localStorage
            localStorage.setItem('barjasSettings', JSON.stringify(settings));
            
            // Update UI
            document.getElementById('institutionName').textContent = settings.institutionName || 'Nama Instansi/Lembaga';
            
            // Terapkan tema
            applyTheme(settings.themeColor);
            
            showNotification('Berhasil', 'Pengaturan berhasil disimpan');
        }
        
        // Fungsi untuk menerapkan tema
        function applyTheme(theme) {
            // Hapus kelas tema sebelumnya
            document.body.classList.remove('theme-default', 'theme-green', 'theme-red', 'theme-purple', 'theme-orange');
            
            // Tambahkan kelas tema baru
            document.body.classList.add(`theme-${theme}`);
            
            // Simpan tema yang dipilih
            const savedSettings = localStorage.getItem('barjasSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                settings.themeColor = theme;
                localStorage.setItem('barjasSettings', JSON.stringify(settings));
            }
        }
        
        // Fungsi untuk mengubah kode keamanan
        function changeSecurityCode() {
            const newCode = document.getElementById('newSecurityCode').value;
            const confirmCode = document.getElementById('confirmSecurityCode').value;
            
            if (!newCode) {
                showNotification('Error', 'Kode keamanan baru harus diisi');
                return;
            }
            
            if (newCode !== confirmCode) {
                showNotification('Error', 'Kode keamanan tidak cocok');
                return;
            }
            
            // Simpan kode keamanan baru
            securityCode = newCode;
            localStorage.setItem('barjasSecurityCode', newCode);
            
            // Reset form
            document.getElementById('securityForm').reset();
            
            showNotification('Berhasil', 'Kode keamanan berhasil diubah');
        }
        
        // Fungsi untuk menampilkan notifikasi
        function showNotification(title, message) {
            const toast = document.querySelector('.notification-toast');
            const toastTitle = document.getElementById('toastTitle');
            const toastMessage = document.getElementById('toastMessage');
            const toastTime = document.getElementById('toastTime');
            
            toastTitle.textContent = title;
            toastMessage.textContent = message;
            toastTime.textContent = 'Baru saja';
            
            const bsToast = new bootstrap.Toast(toast);
            bsToast.show();
        }
        
        // Fungsi untuk menampilkan modal konfirmasi
        function showConfirmation(title, message, confirmCallback) {
            const modal = new bootstrap.Modal(document.getElementById('confirmationModal'));
            
            document.getElementById('confirmationModalTitle').textContent = title;
            document.getElementById('confirmationModalBody').textContent = message;
            
            document.getElementById('confirmationModalConfirm').onclick = function() {
                modal.hide();
                confirmCallback();
            };
            
            modal.show();
        }
        
        // Fungsi untuk menampilkan modal kustom
        function showCustomModal(title, content, buttonText) {
            // Buat modal dinamis
            const modalDiv = document.createElement('div');
            modalDiv.className = 'modal fade';
            modalDiv.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">${title}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            ${content}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">${buttonText}</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modalDiv);
            
            const modal = new bootstrap.Modal(modalDiv);
            modal.show();
            
            // Hapus modal dari DOM setelah ditutup
            modalDiv.addEventListener('hidden.bs.modal', function() {
                document.body.removeChild(modalDiv);
            });
        }
    </script>
</body>
</html>
